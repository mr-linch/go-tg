package tg

// Code generated by go-tg/gen. DO NOT EDIT.
//
// Telegram Bot API version: 
// Release date: 
// Spec hash: 

import (
	"fmt"
	"encoding/json"
)

// Update this object represents an incoming update.
type Update struct {
	// The update's unique identifier.
	ID int `json:"update_id"`

	// Optional. New incoming message.
	Message *Message `json:"message,omitempty"`
}

// WebhookInfo describes the current status of a webhook.
type WebhookInfo struct {
	// Webhook URL.
	URL string `json:"url"`

	// Optional. Unix time for the most recent error.
	LastErrorDate UnixTime `json:"last_error_date,omitempty"`

	// Optional. A list of update types the bot is subscribed to.
	AllowedUpdates []UpdateType `json:"allowed_updates,omitempty"`
}

// User this object represents a Telegram user or bot.
type User struct {
	// Unique identifier for this user or bot.
	ID UserID `json:"id"`

	// True, if this user is a bot.
	IsBot bool `json:"is_bot"`

	// Optional. User's or bot's username.
	Username Username `json:"username,omitempty"`
}

// Message this object represents a message.
type Message struct {
	// Unique message identifier.
	ID int `json:"message_id"`

	// Date the message was sent in Unix time.
	Date UnixTime `json:"date"`

	// Optional. Available sizes of the photo.
	Photo []PhotoSize `json:"photo,omitempty"`

	// Optional. The group has been migrated to a supergroup.
	MigrateToChatID ChatID `json:"migrate_to_chat_id,omitempty"`
}

// ChatPhoto this object represents a chat photo.
type ChatPhoto struct {
	// File identifier of small photo.
	SmallFileID FileID `json:"small_file_id"`

	// File identifier of big photo.
	BigFileID FileID `json:"big_file_id"`
}

// InlineQueryResultMPEG4GIF represents a link to a video animation.
type InlineQueryResultMPEG4GIF struct {
	// A valid URL for the MPEG4 file.
	MPEG4URL string `json:"mpeg4_url"`

	// Optional. Video width.
	MPEG4Width int `json:"mpeg4_width,omitempty"`

	// Optional. Mode for parsing entities in the text.
	TextParseMode ParseMode `json:"text_parse_mode,omitempty"`
}

// PollAnswer this object represents an answer of a user in a non-anonymous poll.
type PollAnswer struct {
	// Unique identifier of the user that answered.
	UserID UserID `json:"user_id"`

	// 0-based identifiers of chosen answer options.
	OptionIDs []int `json:"option_ids"`
}

// LoginURL this object represents a parameter of the inline keyboard button.
type LoginURL struct {
	// An HTTPS URL.
	URL string `json:"url"`

	// Optional. Username of a bot.
	BotUsername Username `json:"bot_username,omitempty"`
}

// InputMediaPhoto represents a photo to be sent.
type InputMediaPhoto struct {
	// File to send. Pass a file_id to send a file that exists on the Telegram servers, pass an HTTP URL, or pass "attach://<file_attach_name>".
	Media FileArg `json:"media"`
}

// InputPaidMediaVideo the paid media to send is a video.
type InputPaidMediaVideo struct {
	// File to send. Pass a file_id to send a file that exists on the Telegram servers, pass an HTTP URL, or pass "attach://<file_attach_name>".
	Media FileArg `json:"media"`

	// Optional. Thumbnail of the file sent; the thumbnail should be in JPEG format. The file must be uploaded using multipart/form-data under the name specified in "attach://<file_attach_name>".
	Thumbnail *InputFile `json:"thumbnail,omitempty"`

	// Optional. Cover for the video. Pass a file_id to send a file that exists on the Telegram servers, pass an HTTP URL, or pass "attach://<file_attach_name>".
	Cover *FileArg `json:"cover,omitempty"`
}

// InputProfilePhotoStatic a static profile photo in the .JPG format.
type InputProfilePhotoStatic struct {
	// The static profile photo. The photo must be uploaded using multipart/form-data under the name specified in "attach://<file_attach_name>".
	Photo InputFile `json:"photo"`
}

// BackgroundFillSolid the background is filled with a solid color.
type BackgroundFillSolid struct {
	// Type of the background fill, always "solid".
	Type string `json:"type"`

	// The color of the background fill.
	Color int `json:"color"`
}

// BackgroundFillGradient the background is a gradient fill.
type BackgroundFillGradient struct {
	// Type of the background fill, always "gradient".
	Type string `json:"type"`

	// Top color of the gradient.
	TopColor int `json:"top_color"`
}

// BackgroundFillType represents the type of BackgroundFill.
type BackgroundFillType int

const (
	BackgroundFillTypeSolid BackgroundFillType = iota + 1
	BackgroundFillTypeGradient
)

func (v BackgroundFillType) String() string {
	if v < BackgroundFillTypeSolid || v > BackgroundFillTypeGradient {
		return "unknown"
	}
	return [...]string{
		"solid",
		"gradient",
	}[v-1]
}

func (v BackgroundFillType) MarshalText() ([]byte, error) {
	return []byte(v.String()), nil
}

func (v *BackgroundFillType) UnmarshalText(b []byte) error {
	switch string(b) {
	case "solid":
		*v = BackgroundFillTypeSolid
	case "gradient":
		*v = BackgroundFillTypeGradient
	default:
		return fmt.Errorf("unknown BackgroundFillType: %s", string(b))
	}
	return nil
}

// BackgroundFill this object describes the background fill.
type BackgroundFill struct {
	Solid *BackgroundFillSolid
	Gradient *BackgroundFillGradient
}

func (u *BackgroundFill) UnmarshalJSON(data []byte) error {
	var partial struct {
		D string `json:"type"`
	}
	if err := json.Unmarshal(data, &partial); err != nil {
		return fmt.Errorf("unmarshal BackgroundFill: %w", err)
	}
	switch partial.D {
	case "solid":
		u.Solid = &BackgroundFillSolid{}
		return json.Unmarshal(data, u.Solid)
	case "gradient":
		u.Gradient = &BackgroundFillGradient{}
		return json.Unmarshal(data, u.Gradient)
	default:
		return fmt.Errorf("unknown BackgroundFill type: %s", partial.D)
	}
}

func (u BackgroundFill) MarshalJSON() ([]byte, error) {
	switch {
	case u.Solid != nil:
		u.Solid.Type = "solid"
		return json.Marshal(u.Solid)
	case u.Gradient != nil:
		u.Gradient.Type = "gradient"
		return json.Marshal(u.Gradient)
	default:
		return nil, fmt.Errorf("unknown BackgroundFill variant")
	}
}

// Type returns the discriminator value for this union.
func (u *BackgroundFill) Type() BackgroundFillType {
	switch {
	case u.Solid != nil:
		return BackgroundFillTypeSolid
	case u.Gradient != nil:
		return BackgroundFillTypeGradient
	default:
		return 0
	}
}
